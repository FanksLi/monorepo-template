(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{MZF8:function(e,n,t){"use strict";var o=t("ogwx");t.d(n,"a",(function(){return o["b"]}));t("VCU9")},OYlG:function(e,n,t){"use strict";t.r(n);var o=t("mn0l"),r=t("3Nsx"),a=t.n(r),u=t("RGYn"),s=t("DBVu"),i=t("GAyR"),c=t("2KoA"),l="import useLocalStorageState from '..';\n\nexport default function Demo() {\n  const { value, update } = useLocalStorageState<number | undefined>('dome1');\n\n  return (\n    <div>\n      <div>dome1</div>\n      <div>value: {value}</div>\n      <button onClick={() => update(Math.random())}>\u66f4\u65b0</button>\n    </div>\n  );\n}",d="import createUseLocalStorageState from './createUseLocalStorageState';\n\nexport default createUseLocalStorageState(() => window.localStorage);",f="import { useState } from 'react';\nimport { isFunction } from '../../utils';\n\nexport interface Options<T> {\n  defaultValue?: T;\n  deserialize?: (value: string) => T;\n  serialize?: (value: T) => string;\n  onError?: (error: Error) => void;\n}\nexport default function createUseLocalStorageState(getStorage: () => Storage) {\n  function useLocalStorageState<T>(key: string, options?: Options<T>) {\n    let storage: Storage;\n    const { onError } = options || {};\n\n    try {\n      storage = getStorage();\n    } catch (error: unknown) {\n      onError?.(error as Error);\n    }\n\n    function serialize(value: T): string {\n      try {\n        if (options?.serialize) {\n          return options.serialize(value);\n        }\n        return JSON.stringify(value);\n      } catch (error: unknown) {\n        onError?.(error as Error);\n      }\n    }\n\n    function deserialize(value: string): T {\n      try {\n        if (options?.deserialize) {\n          return options.deserialize(value);\n        }\n        return JSON.parse(value);\n      } catch (error: unknown) {\n        onError?.(error as Error);\n      }\n    }\n\n    function getStorageValue() {\n      try {\n        const value = storage.getItem(key);\n        if (value) {\n          return deserialize(value);\n        }\n      } catch (error: unknown) {\n        onError?.(error as Error);\n      }\n    }\n\n    const [state, setState] = useState<T>(() => {\n      const storageValue = getStorageValue();\n      return storageValue !== undefined ? storageValue : (options?.defaultValue as T);\n    });\n\n    function update(value: T | ((prevState: T) => T)) {\n      if (isFunction(value)) {\n        const newState: T = (value as (prevState: T) => T)(state);\n        storage.setItem(key, serialize(newState));\n        setState(newState);\n        return;\n      }\n      storage.setItem(key, serialize(value as T));\n      setState(value);\n    }\n\n    function deleteValue() {\n      storage.removeItem(key);\n      setState(undefined as T);\n    }\n\n    return {\n      value: state,\n      update,\n      deleteValue,\n    };\n  }\n  return useLocalStorageState;\n}",p="export function isDev(): boolean {\n  return process.env.NODE_ENV === 'development';\n}\n\nexport function isFunction(value: unknown): boolean {\n  return typeof value === 'function';\n}",m="import useLocalStorageState from '..';\n\nexport default function Demo() {\n  const { value, update } = useLocalStorageState<number | undefined>('dome2', {\n    defaultValue: 10,\n  });\n\n  function handleClick(v: number) {\n    update(v + 1);\n  }\n  return (\n    <div>\n      <div>dome1</div>\n      <div>value: {value}</div>\n      <button onClick={() => handleClick(value)}>\u81ea\u589e</button>\n    </div>\n  );\n}",v="import useLocalStorageState from '..';\nimport dayjs from 'dayjs';\n\nexport default function Demo() {\n  const { value, update, deleteValue } = useLocalStorageState<number>('dome3', {\n    defaultValue: Date.now(),\n    serialize: handleSerialize,\n    deserialize: handledeSerialize,\n  });\n\n  function handleSerialize(v: number) {\n    return dayjs(v).valueOf().toString();\n  }\n\n  function handledeSerialize(v: string) {\n    return dayjs(v).valueOf();\n  }\n\n  function handleClick(v: number = Date.now()) {\n    update(v + 60000);\n  }\n  return (\n    <div>\n      <div>dome3</div>\n      <div>time: {dayjs(value).format('YYYY-MM-DD HH:mm')}</div>\n      <button onClick={() => handleClick(value)}>\u81ea\u589e</button>\n      <button onClick={() => deleteValue()}>\u6e05\u9664</button>\n    </div>\n  );\n}",g="import { useEffect, useState } from 'react';\nimport useMemoizedFn from '..';\nexport default function Dome() {\n  const [count, setCount] = useState(0);\n\n  const memoizedFn = useMemoizedFn(() => {\n    console.log('count:', count);\n  });\n  return (\n    <div>\n      <div>count: {count}</div>\n      <button onClick={() => setCount(count + 1)}>add</button>\n\n      <Child onClick={memoizedFn} />\n    </div>\n  );\n}\n\nfunction Child(props: { onClick: () => void }) {\n  const [count2, setCount2] = useState(0);\n  useEffect(() => {\n    setCount2(count2 + 1);\n  }, [props.onClick]);\n\n  return (\n    <div>\n      <div>count2: {count2}</div>\n    </div>\n  );\n}",S="import { isDev, isFunction } from '../../utils';\nimport { useMemo, useRef } from 'react';\n\ntype noop = (this: unknown, ...args: unknown[]) => unknown;\n\ntype PickFunction<T extends noop> = (\n  this: ThisParameterType<T>,\n  ...args: Parameters<T>\n) => ReturnType<T>;\n\nexport default function useMemoizedFn<T extends noop>(fn: T) {\n  if (isDev()) {\n    if (!isFunction(fn)) {\n      console.error(`useMemoizedFn expected parameter is a function, got ${typeof fn}`);\n    }\n  }\n  const fnRef = useRef<T>(fn);\n  const memoizedRef = useRef<PickFunction<T>>(null);\n  fnRef.current = useMemo(() => fn, [fn]);\n\n  if (!memoizedRef.current) {\n    memoizedRef.current = function (this: ThisParameterType<T>, ...args: Parameters<T>) {\n      return fnRef.current.apply(this, args);\n    } as PickFunction<T>;\n  }\n\n  return memoizedRef.current as PickFunction<T>;\n}",h="import useToggle from '../index';\n\nexport default function Demo() {\n  const [isToggled, actions] = useToggle(false);\n  return (\n    <div>\n      <div>isToggled: {isToggled ? 'true' : 'false'}</div>\n      <button onClick={actions.toggle}>Toggle</button>\n    </div>\n  );\n}",b="import { useMemo, useState } from 'react';\n\nexport interface Actions<T> {\n  setLeft: () => void;\n  setRight: () => void;\n  set: (value: T) => void;\n  toggle: () => void;\n}\n\nfunction useToggle<T = boolean>(): [boolean, Actions<T>];\n\nfunction useToggle<T>(defaultValue: T): [T, Actions<T>];\n\nfunction useToggle<T, U>(defaultValue: T, reverseValue: U): [T | U, Actions<T | U>];\n\nfunction useToggle<D, R>(defaultValue: D = false as unknown as D, reverseValue?: R) {\n  const [state, setState] = useState<D | R>(defaultValue);\n\n  const actions = useMemo(() => {\n    const reverseValueOrigin = (reverseValue === undefined ? !defaultValue : reverseValue) as D | R;\n    const toggle = () => setState((s) => (s === defaultValue ? reverseValueOrigin : defaultValue));\n    const set = (value: D | R) => setState(value);\n    const setLeft = () => setState(defaultValue);\n    const setRight = () => setState(reverseValueOrigin);\n\n    return {\n      toggle,\n      set,\n      setLeft,\n      setRight,\n    };\n  }, []);\n\n  return [state, actions];\n}\n\nexport default useToggle;",T="import useToggle from '../index';\n\nexport default function Demo() {\n  const [text, actions] = useToggle('hello', 'world');\n  return (\n    <div>\n      <div>text: {text}</div>\n      <button onClick={actions.toggle}>Toggle</button>\n      <button onClick={actions.setRight}>setRight</button>\n      <button onClick={actions.setLeft}>setLeft</button>\n    </div>\n  );\n}",x="import { useEffect, useState } from 'react';\nimport useUpdateEffect from '..';\nexport default function Dome() {\n  const [count, setCount] = useState(0);\n  const [count2, setCount2] = useState(0);\n  const [count3, setCount3] = useState(0);\n\n  useEffect(() => {\n    setCount3(count + 1);\n  }, [count]);\n  useUpdateEffect(() => {\n    setCount2(count2 + 1);\n  }, [count]);\n  return (\n    <div>\n      <div>useUpdateEffect: {count2}</div>\n      <div>useEffect: {count3}</div>\n      <button onClick={() => setCount(count + 1)}>add</button>\n    </div>\n  );\n}",k="import { useEffect } from 'react';\nimport createUpdateEffect from './createUpdateEffect';\nexport default createUpdateEffect(useEffect);",w="import { useEffect, useLayoutEffect, useRef } from 'react';\n\ntype EffectType = typeof useEffect | typeof useLayoutEffect;\n\nconst createUpdateEffect: (hook: EffectType) => EffectType = (hook) => (effect, deps) => {\n  const isMounted = useRef(false);\n\n  hook(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  hook(() => {\n    if (!isMounted.current) {\n      isMounted.current = true;\n    } else {\n      return effect();\n    }\n  }, deps);\n};\n\nexport default createUpdateEffect;",y={"uselocalstoragestate-demo01":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"01tP"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:l},"index.ts":{import:"..",content:d},"createUseLocalStorageState.ts":{import:"./createUseLocalStorageState",content:f},"utils/index.ts":{import:"../../utils",content:p}},dependencies:{react:{version:"19.1.0"}},identifier:"uselocalstoragestate-demo01"}},"uselocalstoragestate-demo02":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"DX/F"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:m},"index.ts":{import:"..",content:d},"createUseLocalStorageState.ts":{import:"./createUseLocalStorageState",content:f},"utils/index.ts":{import:"../../utils",content:p}},dependencies:{react:{version:"19.1.0"}},identifier:"uselocalstoragestate-demo02"}},"uselocalstoragestate-demo03":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"JECZ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:v},"index.ts":{import:"..",content:d},"createUseLocalStorageState.ts":{import:"./createUseLocalStorageState",content:f},"utils/index.ts":{import:"../../utils",content:p}},dependencies:{dayjs:{version:"1.11.13"},react:{version:"19.1.0"}},identifier:"uselocalstoragestate-demo03"}},"usememoizedfn-dome":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"HTLM"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:g},"index.ts":{import:"..",content:S},"utils/index.ts":{import:"../../utils",content:p}},dependencies:{react:{version:"19.1.0"}},identifier:"usememoizedfn-dome"}},"usetoggle-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"YTnu"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:h},"index.ts":{import:"../index",content:b}},dependencies:{react:{version:"19.1.0"}},identifier:"usetoggle-demo"}},"usetoggle-demo02":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"5YaZ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:T},"index.ts":{import:"../index",content:b}},dependencies:{react:{version:"19.1.0"}},identifier:"usetoggle-demo02"}},"useupdateeffect-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"OmTG"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),loading:()=>null}),previewerProps:{sources:{_:{tsx:x},"index.ts":{import:"..",content:k},"createUpdateEffect.ts":{import:"./createUpdateEffect",content:w}},dependencies:{react:{version:"19.1.0"}},identifier:"useupdateeffect-demo"}}},O=t("Zs1V"),E=t("Y3h3"),j=t.n(E);n["default"]=e=>a.a.createElement(j.a,Object(o["a"])({},e,{config:u,demos:y,apis:O}))},RGYn:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"\u9996\u9875","meta":{}}],"/guide":[{"title":"\u4ecb\u7ecd","path":"/guide"}],"/hooks":[{"title":"\u72b6\u6001","children":[{"path":"/hooks/use-toggle","title":"useToggle"},{"path":"/hooks/use-local-storage-state","title":"useLoacleStorageState"}]},{"title":"\u4e8b\u4ef6","children":[{"path":"/hooks/use-update-effect","title":"useUpdateEffect"},{"path":"/hooks/use-memoized-fn","title":"useMemoizedFn"}]}],"/":[{"title":"\u9996\u9875","path":"index"}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{"en-US":[{"title":"\u6307\u5357","path":"/guide"},{"title":"Hooks","path":"/hooks"}]},"title":"React Hooks","logo":"/h-logo.svg","mode":"site","repository":{"url":"","branch":"master"},"theme":{},"exportStatic":{}}')},Zs1V:function(e){e.exports=JSON.parse("{}")}}]);